Логировать будем следующие системы: 
    1. shop API
    2. crm API
    3. MES API
    4. MQ
    5. MES
В логи будем записывать данные, которые приходят в систему и которые уходят из системы дополнительно сохраняя технические данные (время, наименование методов и тд.)

Как пример основных логов: 
    1. Изменение статуса заказа.
    2. Ошибки в обработке заказов.
    3. Аудит пользовательских действий.
Дополнительно будем логировать FATAL — отказ сервиса или оборудования. Для понимания и быстрого реагирования при возникновении экстренных ситуаций

Мотивация
    1. Текущая система не имеет централизованного логирования.
    2. Необходимо иметь возможность быстро находить причины ошибок и отслеживать события.
Введение логирования будет экономить средства компании на быстрое определение ошибок и соответственно их исправление, при возникновении серьезных инцидентов имея качественное логирование можно отследить все изменения данных и скорректировать их в системе, что так-же снизит убытки
Первыми логировать и настраивать трейсинг будем в системах MES, MES API и crm API, потому что это самые нагруженные системы через которые проходят запросы как внутренних пользователей, так и внешних систем. Данные сервисы являются основными в работе всей системы и при сбоях в них нарушается вся работоспособность 

Предлагаемое решение:
    1. Использование ELK Stack (Elasticsearch, Logstash, Kibana).
    2. Настройка Fluentd для сбора логов из всех сервисов.
    3. Автоматическая индексация логов в Elasticsearch.

Политика безопасности
    1. Доступ к логам только для сотрудников с ролью "Поддержка".
    2. Шифрование чувствительных данных.
    3. Маскирование персональных данных и данных с повышенными требованиями к хранению, но не требующих шифрования

    Предлагаемое решение: Task4/Предлагаемое решение.drawio.png

Политика хранения в отношении логов
    1. Общий индекс на всю систему
    2. Логи хранятся две недели
    3. Размер сегментов в пределах 10–50 ГБ

Дополнительно настраиваем аллертинг при резких изменениях в системе:
    1. Резкий скачек количества операций 
    2. Большое количество некорректных запросов
    3. Большое количество одинаковых запросов (одинаковые данные в запросе) 



